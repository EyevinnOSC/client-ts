/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/': {
    /** Health check endpoint */
    get: {
      parameters: {
        query: {
          verbose?: boolean;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: Partial<string> &
            Partial<{
              status: string;
              versions: {
                '@osaas/orchestrator': string;
              };
              environment: string;
              _links: {
                self: {
                  href: string;
                };
                api: {
                  href: string;
                };
              };
            }>;
        };
        /** Default Response */
        500: {
          schema: {
            status: string;
            reason: string;
          };
        };
      };
    };
  };
  '/smoothmqinstance': {
    /** List all running smoothmq instances */
    get: {
      responses: {
        /** Default Response */
        200: {
          schema: ({
            /** @description Name of the smoothmq instance */
            name: string;
            /** @description URL to instance API */
            url: string;
            resources: {
              license: {
                /** @description URL to license information */
                url: string;
              };
              apiDocs?: {
                /** @description URL to instance API documentation */
                url: string;
              };
              app?: {
                /** @description URL to instance application (GUI) */
                url: string;
              };
            };
            AccessKey?: string;
            SecretKey?: string;
          } & {
            _links: {
              self: {
                /** @description Instance resource */
                href: string;
              };
              logs?: {
                /** @description Get logs for this instance */
                href: string;
              };
              health?: {
                /** @description Get health status for this instance */
                href: string;
              };
              ports?: {
                /** @description Get exposed ports for this instance */
                href: string;
              };
              restart?: {
                /** @description Restart this instance */
                href: string;
              };
              update?: {
                /** @description Update this instance */
                href: string;
              };
              scale?: {
                /** @description Scale this instance */
                href: string;
              };
            };
          })[];
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
    /** Launch a new smoothmq instance */
    post: {
      parameters: {
        query: {
          beta?: boolean;
        };
        body: {
          body?: {
            /** @description Name of the smoothmq instance */
            name: string;
            AccessKey?: string;
            SecretKey?: string;
          };
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: {
            /** @description Name of the smoothmq instance */
            name: string;
            /** @description URL to instance API */
            url: string;
            resources: {
              license: {
                /** @description URL to license information */
                url: string;
              };
              apiDocs?: {
                /** @description URL to instance API documentation */
                url: string;
              };
              app?: {
                /** @description URL to instance application (GUI) */
                url: string;
              };
            };
            AccessKey?: string;
            SecretKey?: string;
          } & {
            _links: {
              self: {
                /** @description Instance resource */
                href: string;
              };
              logs?: {
                /** @description Get logs for this instance */
                href: string;
              };
              health?: {
                /** @description Get health status for this instance */
                href: string;
              };
              ports?: {
                /** @description Get exposed ports for this instance */
                href: string;
              };
              restart?: {
                /** @description Restart this instance */
                href: string;
              };
              update?: {
                /** @description Update this instance */
                href: string;
              };
              scale?: {
                /** @description Scale this instance */
                href: string;
              };
            };
          };
        };
        /** Default Response */
        403: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
        /** Default Response */
        409: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
  '/restart/{id}': {
    /** Restart smoothmq */
    post: {
      parameters: {
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        204: {
          schema: string;
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
  '/smoothmqinstance/{id}': {
    /** Obtain status and resource URLs for an smoothmq instance */
    get: {
      parameters: {
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: {
            /** @description Name of the smoothmq instance */
            name: string;
            /** @description URL to instance API */
            url: string;
            resources: {
              license: {
                /** @description URL to license information */
                url: string;
              };
              apiDocs?: {
                /** @description URL to instance API documentation */
                url: string;
              };
              app?: {
                /** @description URL to instance application (GUI) */
                url: string;
              };
            };
            AccessKey?: string;
            SecretKey?: string;
          } & {
            _links: {
              self: {
                /** @description Instance resource */
                href: string;
              };
              logs?: {
                /** @description Get logs for this instance */
                href: string;
              };
              health?: {
                /** @description Get health status for this instance */
                href: string;
              };
              ports?: {
                /** @description Get exposed ports for this instance */
                href: string;
              };
              restart?: {
                /** @description Restart this instance */
                href: string;
              };
              update?: {
                /** @description Update this instance */
                href: string;
              };
              scale?: {
                /** @description Scale this instance */
                href: string;
              };
            };
          };
        };
        /** Default Response */
        404: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
    /** Stop and remove an smoothmq instance */
    delete: {
      parameters: {
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        204: {
          schema: string;
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
    /** Patch smoothmq instance with new parameters and restart */
    patch: {
      parameters: {
        body: {
          body?: {
            /** @description Name of the smoothmq instance */
            name?: string;
            AccessKey?: string;
            SecretKey?: string;
          };
        };
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: {
            /** @description Name of the smoothmq instance */
            name: string;
            /** @description URL to instance API */
            url: string;
            resources: {
              license: {
                /** @description URL to license information */
                url: string;
              };
              apiDocs?: {
                /** @description URL to instance API documentation */
                url: string;
              };
              app?: {
                /** @description URL to instance application (GUI) */
                url: string;
              };
            };
            AccessKey?: string;
            SecretKey?: string;
          } & {
            _links: {
              self: {
                /** @description Instance resource */
                href: string;
              };
              logs?: {
                /** @description Get logs for this instance */
                href: string;
              };
              health?: {
                /** @description Get health status for this instance */
                href: string;
              };
              ports?: {
                /** @description Get exposed ports for this instance */
                href: string;
              };
              restart?: {
                /** @description Restart this instance */
                href: string;
              };
              update?: {
                /** @description Update this instance */
                href: string;
              };
              scale?: {
                /** @description Scale this instance */
                href: string;
              };
            };
          };
        };
        /** Default Response */
        400: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
        /** Default Response */
        404: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
  '/health/{id}': {
    /** Return status of smoothmq instance */
    get: {
      parameters: {
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: {
            /** @enum {string} */
            status: 'starting' | 'running' | 'stopped' | 'failed' | 'unknown';
            images?: string[];
          };
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
  '/logs/{id}': {
    /** Return the latest logs from the smoothmq instance */
    get: {
      parameters: {
        query: {
          timestamps?: boolean;
          sinceSeconds?: number;
        };
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: string;
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
  '/ports/{id}': {
    /** Return the exposed extra ports for smoothmq instance */
    get: {
      parameters: {
        path: {
          /** Name of the smoothmq instance */
          id: string;
        };
      };
      responses: {
        /** Default Response */
        200: {
          schema: {
            externalIp: string;
            externalPort: number;
            internalPort: number;
          }[];
        };
        /** Default Response */
        500: {
          schema: {
            /** @description Reason why something failed */
            reason: string;
          };
        };
      };
    };
  };
}

export interface definitions {}

export interface operations {}

export interface external {}

export type PoundifdefSmoothmq =
  paths['/smoothmqinstance/{id}']['get']['responses']['200']['schema'];

export type PoundifdefSmoothmqConfig =
  paths['/smoothmqinstance']['post']['parameters']['body']['body'];
import {
  Context,
  createInstance,
  waitForInstanceReady,
  removeInstance,
  getInstance
} from '@osaas/client-core';
/**
 * @namespace poundifdef-smoothmq
 * @description Introducing SmoothMQ, the ultimate drop-in replacement for SQS! Enhance your developer experience with a functional UI, observability, tracing, scheduling, and rate-limiting. Run your own private SQS on any cloud effortlessly.
 * @author Eyevinn Technology AB <osc@eyevinn.se>
 * @copyright 2026 Eyevinn Technology AB
 * @see {@link https://docs.osaas.io/osaas.wiki/Service:-SmoothMQ.html|Online docs} for further information
 */

/**
 * @typedef {Object} PoundifdefSmoothmqConfig
 * @property {string} name - Name of smoothmq
 * @property {string} [AccessKey] - AWS-compatible access key ID for authenticating with the SmoothMQ server. This credential is used by SQS clients to connect to your private SmoothMQ instance.
 * @property {string} [SecretKey] - AWS-compatible secret access key that pairs with the access key ID for client authentication. This is the private portion of the credential pair used to secure access to your SmoothMQ queues.

 * 
 */

/**
 * @typedef {Object} PoundifdefSmoothmq
 * @property {string} name - Name of the SmoothMQ instance
 * @property {string} url - URL of the SmoothMQ instance
 *
 */

/**
 * Create a new SmoothMQ instance
 *
 * @memberOf poundifdef-smoothmq
 * @async
 * @param {Context} context - Open Source Cloud configuration context
 * @param {PoundifdefSmoothmqConfig} body - Service instance configuration
 * @returns {PoundifdefSmoothmq} - Service instance
 * @example
 * import { Context } from '@osaas/client-core';
 * import { createPoundifdefSmoothmqInstance } from '@osaas/client-services';
 *
 * const ctx = new Context();
 * const body: PoundifdefSmoothmqConfig = { name: 'myinstance', ... };
 * const instance = await createPoundifdefSmoothmqInstance(ctx, body);
 * console.log(instance.url);
 */
export async function createPoundifdefSmoothmqInstance(
  ctx: Context,
  body: PoundifdefSmoothmqConfig
): Promise<PoundifdefSmoothmq> {
  const serviceAccessToken = await ctx.getServiceAccessToken(
    'poundifdef-smoothmq'
  );
  const instance = await createInstance(
    ctx,
    'poundifdef-smoothmq',
    serviceAccessToken,
    body
  );
  await waitForInstanceReady('poundifdef-smoothmq', instance.name, ctx);
  return instance;
}

/**
 * Remove a SmoothMQ instance
 *
 * @memberOf poundifdef-smoothmq
 * @async
 * @param {Context} context - Open Source Cloud configuration context
 * @param {string} name - Name of the message-queue to be removed
 */
export async function removePoundifdefSmoothmqInstance(
  ctx: Context,
  name: string
): Promise<void> {
  const serviceAccessToken = await ctx.getServiceAccessToken(
    'poundifdef-smoothmq'
  );
  await removeInstance(ctx, 'poundifdef-smoothmq', name, serviceAccessToken);
}

/**
 * Get a SmoothMQ instance
 *
 * @memberOf poundifdef-smoothmq
 * @async
 * @param {Context} context - Open Source Cloud configuration context
 * @param {string} name - Name of the message-queue to be retrieved
 * @returns {PoundifdefSmoothmq} - Service instance
 * @example
 * import { Context } from '@osaas/client-core';
 * import { getPoundifdefSmoothmqInstance } from '@osaas/client-services';
 *
 * const ctx = new Context();
 * const instance = await getPoundifdefSmoothmqInstance(ctx, 'myinstance');
 * console.log(instance.url);
 */
export async function getPoundifdefSmoothmqInstance(
  ctx: Context,
  name: string
): Promise<PoundifdefSmoothmq> {
  const serviceAccessToken = await ctx.getServiceAccessToken(
    'poundifdef-smoothmq'
  );
  return await getInstance(
    ctx,
    'poundifdef-smoothmq',
    name,
    serviceAccessToken
  );
}
